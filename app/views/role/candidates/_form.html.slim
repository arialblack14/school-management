= simple_form_for(@candidate, class: 'form-horizontal', defaults: { required: false, include_blank: false }) do |f|
  - if @candidate.errors.any?
    .alert.alert-danger.alert-dismissable@alert
      button.close type="button" data-dismiss="alert"
        span aria-hidden="true"
          | &times;
        span.sr-only
          | Close
      /h4= "#{pluralize(@candidate.errors.count,"error")} prohibited this role_candidate from being saved:"
      h4 = t('.error')
      /ul
        - @candidate.errors.full_messages.each do |msg|
          li= msg
  .row
    .col-md-9
      ul.nav.nav-tabs@tablist style="margin-bottom: 20px;"
        li@presentation.active: a@tab data-toggle="tab" href="#general"    Allgemein
        li@presentation:        a@tab data-toggle="tab" href="#person"     Personendaten
        li@presentation:        a@tab data-toggle="tab" href="#education"  Ausbildung
        li@presentation:        a@tab data-toggle="tab" href="#contracts"  VertrÃ¤ge

      .tab-content
        @tabpanel.tab-pane.fade#general.active.in = render 'form_general',   f: f
        @tabpanel.tab-pane.fade#person            = render 'form_person',    f: f
        @tabpanel.tab-pane.fade#education         = render 'form_education', f: f
        @tabpanel.tab-pane.fade#contracts         = render 'form_contracts', f: f

  .row
    .col-md-9
      = f.submit class: "btn btn-primary"

coffee:
  $ ->
    $('input.date').each (i, input) ->
      $input = $(input)
      date = $input.val()
      if date isnt ''
        [year, month, day] = date.split('-')
        $input.val [day, month, year].join('.')

      startView = $input.data().startView or 0
      $input.datepicker
        format: 'dd.mm.yyyy'
        startView: startView
        language: "de"
        endDate: '0d'

sass:
  .datepicker
    z-index: 1151 !important
